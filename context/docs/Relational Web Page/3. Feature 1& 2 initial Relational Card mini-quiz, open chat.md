# 3. Feature 1 & 2: Initial Relational Card Mini-Quiz & Open Chat

## Feature 1: Initial Relational Card Mini-Quiz

### Purpose
Capture user reflexes, frustrations, fears, hopes, and common derails in relationships through a quick, engaging mini-quiz format.

### Quiz Structure
**5 Core Cards + 1 Conditional Card**

#### Card 1: Communication Reflexes
- **Question:** "When someone gives you feedback, your first instinct is to..."
- **Options:**
  - Defend yourself
  - Ask for clarification
  - Feel hurt and withdraw
  - Analyze what they really mean
  - Thank them and move on
- **Purpose:** Identify immediate communication patterns and defensive mechanisms

#### Card 2: Relationship Frustrations
- **Question:** "What frustrates you most in relationships?"
- **Options:**
  - People not listening
  - Lack of emotional support
  - Poor communication
  - Feeling misunderstood
  - Being taken for granted
- **Purpose:** Understand common pain points and triggers

#### Card 3: Core Fears
- **Question:** "Your biggest fear in relationships is..."
- **Options:**
  - Being abandoned
  - Not being good enough
  - Losing control
  - Being vulnerable
  - Being rejected
- **Purpose:** Identify underlying fears that drive communication patterns

#### Card 4: Relationship Hopes
- **Question:** "What do you hope for most in relationships?"
- **Options:**
  - Deep understanding
  - Mutual respect
  - Emotional safety
  - Growth together
  - Authentic connection
- **Purpose:** Understand relationship goals and values

#### Card 5: Common Derails
- **Question:** "When relationships go wrong, it's usually because..."
- **Options:**
  - Miscommunication
  - Different values
  - Lack of effort
  - Emotional distance
  - Unresolved conflicts
- **Purpose:** Identify patterns in relationship breakdowns

#### Conditional Card 6: Specific Relationship Context
- **Trigger:** Based on previous answers
- **Question:** "In your most important relationship, you wish..."
- **Options:** (Dynamically generated based on previous responses)
- **Purpose:** Provide specific, personalized insights

### Quiz Flow
1. **Introduction:** Brief explanation of the quiz purpose
2. **Card Presentation:** One card at a time with smooth transitions
3. **Answer Selection:** Tap to select, with visual feedback
4. **Progress Indicator:** Shows completion status
5. **Results Summary:** Personalized insights based on responses
6. **Next Steps:** Suggestions for using the insights

### AI Generation Rules
- **Personalization:** Adapt questions based on previous answers
- **Context Awareness:** Consider relationship history and patterns
- **Insight Generation:** Create meaningful, actionable insights
- **Pattern Recognition:** Identify recurring themes across responses

## Feature 2: Open Chat for Ongoing Relational Input (Signals)

### Purpose
Allow users to add fresh context in guided or free-form modes, converting input into structured cues for the Translator.

### Chat Modes

#### Guided Mode
- **Purpose:** Help users articulate their thoughts and feelings
- **Structure:** Pre-defined questions and prompts
- **Benefits:** Easier for users to express themselves
- **AI Role:** Guide conversation and extract key insights

#### Free-Form Mode
- **Purpose:** Allow natural, unstructured communication
- **Structure:** Open-ended conversation
- **Benefits:** More authentic and spontaneous
- **AI Role:** Listen, reflect, and extract patterns

### Signal Types

#### Emotional Signals
- **Current Mood:** How the user is feeling right now
- **Relationship Status:** Current state of important relationships
- **Triggers:** What's currently activating emotional responses
- **Needs:** What the user needs from relationships

#### Communication Signals
- **Recent Interactions:** How recent conversations went
- **Communication Challenges:** Current communication difficulties
- **Success Stories:** Positive communication experiences
- **Pattern Recognition:** Recurring communication themes

#### Context Signals
- **Life Events:** Significant events affecting relationships
- **Stress Levels:** Current stress and its impact on relationships
- **Relationship Changes:** New relationships or changes in existing ones
- **Personal Growth:** Individual development affecting relationships

### AI Processing Pipeline

#### Input Processing
1. **Text Analysis:** Parse user input for key themes and emotions
2. **Context Extraction:** Identify relevant relationship information
3. **Signal Classification:** Categorize input into signal types
4. **Pattern Recognition:** Identify recurring themes and patterns

#### Output Generation
1. **Structured Cues:** Convert input into actionable insights
2. **Relationship Updates:** Update relationship profiles with new information
3. **Communication Suggestions:** Generate personalized communication advice
4. **Pattern Alerts:** Notify users of significant pattern changes

## Microcopy

### Quiz Introduction
"Let's discover your relationship patterns in just 5 quick questions. This will help us understand how you communicate and what you need from relationships."

### Card Instructions
"Tap the option that feels most true for you right now. There are no wrong answers."

### Progress Indicators
"Question 3 of 5" / "Almost done!"

### Results Summary
"Based on your responses, here's what we've learned about your relationship patterns..."

### Chat Welcome
"Tell me what's on your mind about your relationships. I'm here to listen and help you understand your patterns."

### Guided Mode Prompts
- "How are you feeling about your relationships right now?"
- "What's been challenging in your communication lately?"
- "What do you need most from your relationships?"
- "How have your relationships been changing?"

### Free-Form Mode Prompts
- "What's on your mind?"
- "Tell me about your relationships."
- "What's been happening?"
- "How can I help you today?"

## Extraction to Structured Cues

### Cue Categories

#### Emotional Cues
- **Mood State:** Current emotional state
- **Emotional Needs:** What emotions the user needs
- **Emotional Triggers:** What activates strong emotions
- **Emotional Patterns:** Recurring emotional themes

#### Communication Cues
- **Communication Style:** How the user prefers to communicate
- **Communication Challenges:** Current communication difficulties
- **Communication Goals:** What the user wants to achieve
- **Communication Patterns:** Recurring communication themes

#### Relationship Cues
- **Relationship Status:** Current state of relationships
- **Relationship Needs:** What the user needs from relationships
- **Relationship Challenges:** Current relationship difficulties
- **Relationship Goals:** What the user wants in relationships

#### Context Cues
- **Life Context:** Current life circumstances
- **Stress Context:** Current stress levels and sources
- **Growth Context:** Personal development and growth
- **Change Context:** Recent changes and transitions

### Cue Processing Rules
- **Relevance Filtering:** Only extract cues relevant to communication
- **Pattern Recognition:** Identify recurring themes and patterns
- **Context Integration:** Combine cues with existing relationship data
- **Priority Ranking:** Rank cues by importance and urgency

## How the Translator Consumes These Cues

### Input Integration
- **Cue Aggregation:** Combine signals from multiple sources
- **Pattern Analysis:** Analyze patterns across different cue types
- **Context Synthesis:** Create comprehensive context for translation
- **Priority Assessment:** Determine which cues are most important

### Translation Generation
- **Cue-Based Adaptation:** Adapt translation based on extracted cues
- **Pattern-Informed Suggestions:** Use patterns to inform communication suggestions
- **Context-Aware Recommendations:** Provide recommendations based on full context
- **Dynamic Adjustment:** Continuously adjust based on new cues

### Feedback Loop
- **Translation Effectiveness:** Measure how well translations work
- **Cue Accuracy:** Assess accuracy of extracted cues
- **Pattern Validation:** Validate identified patterns
- **Continuous Improvement:** Improve cue extraction and translation over time

## Data Models

### User Profile
```json
{
  "user_id": "string",
  "communication_style": "object",
  "relationship_patterns": "array",
  "emotional_triggers": "array",
  "communication_goals": "array",
  "relationship_needs": "array"
}
```

### Relationship Profile
```json
{
  "relationship_id": "string",
  "user_id": "string",
  "contact_id": "string",
  "relationship_type": "string",
  "communication_history": "array",
  "emotional_patterns": "array",
  "communication_preferences": "object",
  "relationship_status": "string"
}
```

### Signal Data
```json
{
  "signal_id": "string",
  "user_id": "string",
  "timestamp": "datetime",
  "signal_type": "string",
  "content": "string",
  "extracted_cues": "array",
  "confidence_score": "float",
  "pattern_matches": "array"
}
```

### Translation Request
```json
{
  "translation_id": "string",
  "user_id": "string",
  "relationship_id": "string",
  "original_message": "string",
  "context_cues": "array",
  "translation_options": "array",
  "selected_translation": "string",
  "effectiveness_score": "float"
}
```

## UI States

### Quiz States
- **Loading:** Initial setup and question preparation
- **Active:** User is answering questions
- **Processing:** AI is analyzing responses
- **Results:** Displaying personalized insights
- **Complete:** Quiz finished, ready for next steps

### Chat States
- **Idle:** Waiting for user input
- **Typing:** User is composing message
- **Processing:** AI is analyzing input
- **Responding:** AI is generating response
- **Complete:** Response ready for display

### Signal Processing States
- **Collecting:** Gathering user input
- **Analyzing:** Processing input for cues
- **Extracting:** Converting input to structured cues
- **Integrating:** Combining cues with existing data
- **Ready:** Cues available for translation use

## Admin Controls

### Quiz Configuration
- **Question Pool:** Manage available quiz questions
- **Question Order:** Control question sequence
- **Conditional Logic:** Set up conditional question flows
- **Scoring Rules:** Define how responses are scored

### Chat Configuration
- **Mode Settings:** Configure guided vs. free-form modes
- **Prompt Library:** Manage available prompts and questions
- **Response Templates:** Set up response templates
- **Cue Extraction Rules:** Define how cues are extracted

### Signal Processing
- **Cue Categories:** Define available cue categories
- **Pattern Recognition:** Configure pattern recognition algorithms
- **Integration Rules:** Set up how cues integrate with existing data
- **Quality Controls:** Define quality assurance measures

### Analytics & Monitoring
- **Usage Statistics:** Track quiz and chat usage
- **Effectiveness Metrics:** Measure signal processing effectiveness
- **Pattern Analysis:** Analyze user patterns and trends
- **Improvement Suggestions:** Generate recommendations for improvement

## Guided Mode — Style-Adaptive Question Wording

### Purpose
Adapt question phrasing based on the user's Processing Fingerprint (Lead → Next) to make questions more resonant and effective.

### Processing Fingerprint Types

#### Intuitive Types (N-dominant)
- **Question Style:** Abstract, conceptual, future-focused
- **Language:** Metaphorical, symbolic, visionary
- **Examples:** "What vision do you have for your relationships?" "How do you see your communication evolving?"

#### Sensing Types (S-dominant)
- **Question Style:** Concrete, practical, present-focused
- **Language:** Specific, detailed, realistic
- **Examples:** "What specific communication behaviors work best for you?" "How do you handle day-to-day relationship challenges?"

#### Thinking Types (T-dominant)
- **Question Style:** Logical, analytical, objective
- **Language:** Structured, systematic, rational
- **Examples:** "What logical patterns do you see in your relationships?" "How do you analyze communication effectiveness?"

#### Feeling Types (F-dominant)
- **Question Style:** Emotional, personal, value-based
- **Language:** Empathetic, relational, meaningful
- **Examples:** "How do your relationships make you feel?" "What values are most important in your communication?"

### Adaptive Question Generation

#### Lead Function Adaptation
- **Primary Focus:** Questions that align with dominant function
- **Language Style:** Use language that resonates with dominant function
- **Question Structure:** Structure questions to match processing style
- **Response Options:** Provide options that match dominant function

#### Next Function Integration
- **Secondary Focus:** Include questions that engage auxiliary function
- **Balanced Approach:** Balance dominant and auxiliary function needs
- **Growth Opportunities:** Use auxiliary function for development
- **Integration Points:** Find ways to integrate both functions

### Question Wording Examples

#### For ENFJ (Fe-Ni)
- **Lead Function (Fe):** "How do you create harmony in your relationships?"
- **Next Function (Ni):** "What patterns do you see in your communication?"
- **Integrated:** "How do you use your insights about people to create better relationships?"

#### For INFP (Fi-Ne)
- **Lead Function (Fi):** "What values guide your communication?"
- **Next Function (Ne):** "What possibilities do you see for your relationships?"
- **Integrated:** "How do your personal values open up new possibilities in your relationships?"

#### For ESTJ (Te-Si)
- **Lead Function (Te):** "How do you organize your communication effectively?"
- **Next Function (Si):** "What past experiences inform your communication style?"
- **Integrated:** "How do you use your past experiences to organize better communication?"

#### For ISTP (Ti-Se)
- **Lead Function (Ti):** "How do you analyze communication problems?"
- **Next Function (Se):** "What immediate communication needs do you see?"
- **Integrated:** "How do you use your analysis to address immediate communication needs?"

### Dynamic Adaptation Rules
- **Real-Time Analysis:** Continuously analyze user responses for type indicators
- **Adaptive Wording:** Adjust question wording based on detected preferences
- **Function Balance:** Maintain balance between dominant and auxiliary functions
- **Growth Integration:** Use questions to promote function development

### AI Implementation Guidelines
- **Type Detection:** Use response patterns to infer cognitive preferences
- **Question Generation:** Create questions that match detected preferences
- **Response Analysis:** Analyze responses for type confirmation
- **Continuous Refinement:** Continuously refine type detection and question generation
